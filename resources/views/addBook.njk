{% extends 'master' %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.5/validator.min.js"></script>
{% endblock %}

{% block content %}
<h1>Új Könyv felvitele </h1>
{%if currentUser%}
<form class="form-horizontal" action="addBook" method="POST" data-toggle="validator">
  {{ csrfField }}

  <div class="form-group" has-feedback>
    <label for="inputCim" class="col-sm-2 control-label">Cím</label>
    <div class="col-sm-10">
      <input required type="text" class="form-control" id="inputCim" name ="cim">
      <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
    <div class="help-block with-errors"></div>
    </div>
</div>

<div class="form-group" has-feedback>
    <label for="inputSzerzo" class="col-sm-2 control-label">Szerző</label>
    <div class="col-sm-10">
      <input required type="text" class="form-control" id="inputSzerzo" name ="szerzo">
      <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
    <div class="help-block with-errors"></div>      
    </div>
</div>

  <div class="form-group">
    <label for="inputKat" class="col-sm-2 control-label">Kategória</label>
    <div class="col-sm-10">
     <select class="form-control" id="inputKat" name="type_id">
     {%for type in types%}
        <option value="{{type.id}}">{{type.kategoria}}</option> 
      {%endfor%}
   </select>
    </div>
  </div>

<div class="form-group" has-feedback>
    <label for="inputKiado" class="col-sm-2 control-label">Kiadó</label>
    <div class="col-sm-10">
      <input required type="text" class="form-control" id="inputKiado" name ="kiado">
      <span class="glyphicon form-control-feedback" aria-hidden="true"></span>   
    <div class="help-block with-errors"></div>         
    </div>
</div>

<div class="form-group" has-feedback>
    <label for="inputOldal" class="col-sm-2 control-label">Oldalszám</label>
    <div class="col-sm-10">
      <input required pattern="[0-9]{2,}" type="text" class="form-control" id="inputOldal" name ="oldalszam">
      <span class="glyphicon form-control-feedback" aria-hidden="true"></span>          
    <div class="help-block with-errors"></div>        
    </div>
</div>

  <div class="form-group" has-feedback>
    <label for="inputTartalom" class="col-sm-2 control-label">Rövid tartalom</label>
    <div class="col-sm-10">
     <textarea required class="form-control" rows="3" id="inputTartalom", name="tartalom"></textarea>
      <span class="glyphicon form-control-feedback" aria-hidden="true"></span> 
    <div class="help-block with-errors"></div>      
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" >Könyv hozzáadása</button>
    </div>
  </div>
</form>
{%else%}
<h2> Ezt az oldalt csak bejelentkezett felhasználók tekinthetik meg. </h2>
<p> A regisztrációért kattints <a href="/reg">ide</a>. Amennyiben már regisztráltál, kérjük jelentkezz be. </p>
<a class="btn btn-primary" href="/login" role="button" id="loginButton">Bejelentkezés</a>
{%endif%}
{% endblock %}